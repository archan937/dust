(()=>{var re=Object.create;var w=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var ae=Object.getOwnPropertyNames;var ie=Object.getPrototypeOf,le=Object.prototype.hasOwnProperty;var ce=(e,t)=>()=>(e&&(t=e(e=0)),t);var ue=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),y=(e,t)=>{for(var n in t)w(e,n,{get:t[n],enumerable:!0})},H=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ae(t))!le.call(e,s)&&s!==n&&w(e,s,{get:()=>t[s],enumerable:!(r=se(t,s))||r.enumerable});return e},m=(e,t,n)=>(H(e,t,"default"),n&&H(n,t,"default")),W=(e,t,n)=>(n=e!=null?re(ie(e)):{},H(t||!e||!e.__esModule?w(n,"default",{value:e,enumerable:!0}):n,e)),me=e=>H(w({},"__esModule",{value:!0}),e);var z={};y(z,{isArray:()=>_e,isDomNode:()=>T,isFunction:()=>b,isNull:()=>v,isObject:()=>he,isUndefined:()=>S,randomHash:()=>ge});var K,ge,_e,b,v,S,T,he,O=ce(()=>{K=["ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz","0123456789"].join(""),ge=()=>{let e="";for(let t=0;t<6;t++)e+=K.charAt(Math.floor(Math.random()*K.length));return e},_e=e=>Array.isArray(e),b=e=>typeof e=="function",v=e=>e===null,S=e=>typeof e>"u",T=e=>S(e)?!1:e instanceof Element||typeof DocumentFragment<"u"&&e instanceof DocumentFragment,he=e=>!!e&&Object.prototype.toString.call(e)==="[object Object]"});var M=ue(X=>{var{isArray:be,isFunction:J,isObject:R,isUndefined:Se,randomHash:Te}=(O(),me(z)),q="__mergeValue__",L="__unsetValue__",V="__skip__",Re=e=>{let t=e.__getter__;return t?t():e},He=(e,t,n=!1)=>{let r;if(J(t))if(t.__skip__=!0,R(e)){let s=new Proxy(()=>{},{apply:(i,l,[p])=>p?{[q]:p}:e,get:(i,l)=>e[l]});r=t(s)}else r=t(e);else r=t;if(R(r)&&R(e)){let s=r[q];return we(e,s||r,n||!!s),e}return r},we=(e,t,n)=>{let r={};Object.entries(t).forEach(([s,i])=>{let l=e[s]?.__setter__;l?l(i,n):e[s]=i,r[s]=!0}),n||Object.keys(e).forEach(s=>{if(s!==V&&!r[s]&&!(e[s]?.__skip__&&!e[s]?.__getter__)){let l=e[s]?.__setter__;l?l(L):e[s]=void 0}})},Q=(e,t)=>{if(J(e))return e.__skip__=!0,[e,()=>{}];let n=e,r=Te(),s=[],i=u=>{if(!u||u===t||u.name===V||u.__skip__||u.__states__?.[r])return;let d=u;d.__states__??={},d.__states__[r]=!0,s.push(d)},l=new Proxy(()=>{},{apply:function(){if(i(arguments.callee.caller),R(n)){let d=be(n)?[]:{};return Object.keys(n).forEach(c=>{d[c]=Re(n[c])}),d}return n},get:function(d,c){if(c==="__getter__")return()=>n;if(c==="__setter__")return p;if(!Se(n)){if(Object.prototype.hasOwnProperty.call(n,c)){i(arguments.callee.caller);let[g]=Q(n[c],t);n[c]=g}return n[c]}}}),p=(u,d=!1)=>{let c=u===L;c&&R(n)&&Object.entries(n).forEach(([g,oe])=>{Object.prototype.hasOwnProperty.call(n,g)||oe.__setter__?.(L)}),n=c?void 0:He(n,u,d),s.forEach(g=>(g.__handler__??g)()),c&&(s.length=0)};return[l,p]},xe=function(e,t){return Q(e,t??arguments.callee.caller)};X.useState=xe});var a={};y(a,{BrowserRouter:()=>E,DirectoryRouter:()=>C,Fragment:()=>I,NoElement:()=>A,Route:()=>f,createElement:()=>F,createRoot:()=>j,default:()=>o,matchRoute:()=>_,registerRoutes:()=>h});var D={};y(D,{BrowserRouter:()=>E,DirectoryRouter:()=>C,Route:()=>f});var P={};y(P,{matchRoute:()=>_,registerRoutes:()=>h});var pe=()=>{window.addEventListener("popstate",()=>{x(window.location)}),document.addEventListener("click",n=>{let r=n.target.closest("a");if(r&&r.tagName==="A"){if(r.origin!==window.location.origin||r.hash)return;n.preventDefault(),history.pushState({},"",r.href)}});let e=history.pushState,t=history.replaceState;history.pushState=(...n)=>{e.apply(history,n),x(n[2])},history.replaceState=(...n)=>{t.apply(history,n),x(n[2])}},k,N={},U=[],_=e=>void U.push(e),h=e=>{Object.entries(e).forEach(([t,n])=>{N[B(t)]=n}),k=void 0,console.log("* Routes registered"),x(window.location)},x=(e,t)=>{let n=B(e);if(k===n)return;k=n,console.log(`* Navigating to: ${n}`);let r=N[n]||(()=>{});[t??U].flat().forEach(s=>{s(n,r)})},B=e=>{let t=e.toString();return(t.match(/^\//)?t:new URL(t).pathname).replace(/\/+$/,"")||"/"};pe();var f=A,$=(e,t="/")=>e.reduce((n,{index:r,path:s,component:i,redirect:l,children:p})=>(s=`${t}${r?"":`/${s}`}`.replace("//","/"),i?Object.assign(Object.assign({},n),{[s]:i}):l?Object.assign(Object.assign({},n),{[s]:()=>window.location.href=l}):Object.assign(Object.assign({},n),$(p??[],s))),{});function de({children:e}){let[t,n]=(0,a.useState)(),[r,s]=(0,a.useState)();return h($(e)),_((i,l)=>{n(i),s(l())}),console.log("Rendering <BrowserRouter/>"),o.createElement(o.Fragment,null,o.createElement("h1",null,"Hi, my name is BrowserRouter! :) "),o.createElement("p",null,"Route: ",()=>t()),o.createElement("div",null,()=>r()))}var E=de;function fe(){let[e,t]=(0,a.useState)(),[n,r]=(0,a.useState)();return _((s,i)=>{t(s),r(i())}),console.log("Rendering <DirectoryRouter/>"),o.createElement(o.Fragment,null,o.createElement("h1",null,"Hi, my name is DirectoryRouter! :) "),o.createElement("p",null,"Route: ",()=>e()),o.createElement("div",null,()=>n()))}var C=fe;var G={};y(G,{Fragment:()=>I,NoElement:()=>A,createElement:()=>F,createRoot:()=>j});O();var ye=(e,t)=>{Object.entries(t||{}).forEach(([n,r])=>{let s=n.toLowerCase(),i=s.match(/on([a-z]+)/)?.[1];i&&b(r)?e.addEventListener(i,r,!1):e.setAttribute(s,r)})},Ee=(e,t)=>{if(v(t)||S(t))return;let n;t&&(t instanceof Element||t.constructor.name==="DocumentFragment")?n=t:(n=document.createTextNode(""),b(t)?(t.__handler__=()=>{let r=t();T(r)?(n=r,e.replaceChildren(n)):T(n)&&(n=document.createTextNode(""),e.replaceChildren(n)),n.nodeValue=v(r)||S(r)||r===!1?"":String(r)},t.__handler__?.()):n.nodeValue=String(t)),e.appendChild(n)},F=(e,t,...n)=>{if(T(e))return e;let r=n.flat();if(b(e))return e?.name==="NoElement"?{...t,children:r}:e({...t,children:r});let s=!e,i=s?document.createDocumentFragment():document.createElement(e);return s||ye(i,t),r.forEach(l=>Ee(i,l)),i},j=e=>({render:t=>{e.innerHTML="",e.appendChild(F(t,{}))}}),I="";function A(e){return e}m(a,W(M()));var Ae=W(M()),ve={...D,...G,...P,...Ae},o=ve;function je(){return console.log("Rendering <AboutMe/>"),o.createElement("h1",null,"Hi, my name is Paul! :)")}var Y=je;function ke({counter:e,setCounter:t,show:n,setShow:r}){return console.log("Rendering <Counter/>"),o.createElement(o.Fragment,null,"Counter: ",o.createElement("strong",null,()=>e()),o.createElement("p",null,o.createElement("button",{onClick:()=>t(s=>s+1)},"Up"),o.createElement("button",{onClick:()=>t(s=>s-1)},"Down")),o.createElement("p",null,o.createElement("button",{onClick:()=>r(s=>!s)},"Toggle")),o.createElement("p",null,()=>n()&&o.createElement("p",null,o.createElement("strong",null,"Hello!"))))}var Z=ke;function Pe(){let[e,t]=(0,a.useState)(""),n=({target:r})=>t(r.value);return console.log("Rendering <SayHello/>"),o.createElement("div",null,o.createElement("p",null,"What is your name?",()=>" ",o.createElement("input",{type:"text",onKeyDown:n,onKeyUp:n})),o.createElement("p",{style:"margin-top: 20px; padding: 8px 16px; font-family: Georgia; font-size: 17px; font-style: italic; border-left: 4px solid black"},"Hello, ",()=>e(),"!",o.createElement("br",null),"How are you today?"))}var ee=Pe;function Ce(){let[e,t]=(0,a.useState)(0),[n,r]=(0,a.useState)(!1);return console.log("Rendering <Home/>"),o.createElement(o.Fragment,null,o.createElement("h1",null,"Welcome to Dust!"),o.createElement("p",null,o.createElement("i",null,"A minimalistic reactive Javascript library for building dynamic state component-based interfaces.")),o.createElement("p",null,o.createElement("i",null,o.createElement("strong",null,"(please note the browser console: components are NOT RERENDERED on change"),")")),o.createElement("p",null,"See more at: ",o.createElement("a",{href:"https://github.com/archan937/dust"},"Github")),o.createElement("h3",{style:"margin-top: 60px"},"Say Hello example:"),o.createElement(ee,null),o.createElement("h3",{style:"margin-top: 60px"},"Classic Counter example:"),o.createElement(Z,{counter:e,setCounter:t,show:n,setShow:r}))}var te=Ce;function De(){return console.log("Rendering <App/> using BrowserRouter"),o.createElement(o.Fragment,null,o.createElement("a",{href:"/browser",style:"padding-right: 15px"},"Home"),o.createElement("a",{href:"/browser/about-me",style:"padding-right: 15px"},"About Me"),o.createElement(E,null,o.createElement(f,{index:!0,redirect:"browser"}),o.createElement(f,{path:"browser"},o.createElement(f,{index:!0,component:te}),o.createElement(f,{path:"about-me",component:Y}))))}var ne=De;var Oe=j(document.getElementById("root"));Oe.render(o.createElement(ne,null));var Fe={};h(Fe);})();
