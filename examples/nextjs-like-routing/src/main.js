(()=>{var te=Object.defineProperty;var S=(e,n)=>{for(var t in n)te(e,t,{get:n[t],enumerable:!0})};var k={};S(k,{createContext:()=>ne,useContext:()=>oe});var ne=(...e)=>{console.log("createContext",e)},oe=(...e)=>{console.log("useContext",e)};var j={};S(j,{Fragment:()=>U,NoElement:()=>$,c:()=>se,createElement:()=>A,createRoot:()=>P});var we=typeof process<"u"?process.cwd():"";var M=e=>Array.isArray(e),g=e=>typeof e=="function",H=e=>e===null,h=e=>typeof e>"u",x=e=>h(e)?!1:e instanceof Element||typeof DocumentFragment<"u"&&e instanceof DocumentFragment,_=e=>!!e&&Object.prototype.toString.call(e)==="[object Object]",W=()=>{let e=["ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz","0123456789"].join(""),n="";for(let t=0;t<6;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return n};var re=(e,n)=>{Object.entries(n||{}).forEach(([t,o])=>{let r=t.toLowerCase(),a=r.match(/on([a-z]+)/)?.[1];a&&g(o)?e.addEventListener(a,o,!1):e.setAttribute(r,String(o))})},ae=(e,n)=>{if(H(n)||h(n))return;let t;n&&(n instanceof Element||n.constructor.name==="DocumentFragment")?t=n:(t=document.createTextNode(""),g(n)?(n.__handler__=()=>{let o=n();x(o)?(t=o,B(e,t)):x(t)&&(t=document.createTextNode(""),B(e,t)),t.nodeValue=H(o)||h(o)||o===!1?"":String(o)},n.__handler__?.()):t.nodeValue=String(n)),O(e,t)},O=(e,n)=>{e.appendChild(n)},B=(e,n)=>{e instanceof Element||e instanceof DocumentFragment?e.replaceChildren(n):console.warn("Cannot replace children of non-Element node")},A=(e,n,...t)=>{if(x(e))return e;let o=t.flat();if(typeof e=="object"&&e!==null){if("$$typeof"in e)return e;if("render"in e&&typeof e.render=="function")return e.render({...n,children:o})}if(g(e))return e?.name==="NoElement"?{...n,children:o}:e({...n,children:o});let r=!e,a=r?document.createDocumentFragment():document.createElement(e);return r||re(a,n),o.forEach(s=>ae(a,s)),a},P=e=>({render:n=>{e.innerHTML="",O(e,A(n,{}))}}),se=(e,n)=>e({createElement:A,e:ie,Fragment:U},...n.map(o=>o.bind(e))),ie=(e,n)=>{let t=[],o=()=>e(...t);return t=n.map(r=>r.__getter__?r.bind(o):r),o},U="";function $(e){return e}var G={};S(G,{matchRoute:()=>b,registerRoutes:()=>R,useParams:()=>T});var C={};S(C,{useState:()=>m});var I="__mergeValue__",v="__unsetValue__",K="__skip__",le=e=>{let n=e.__getter__;return n?n():e},ce=(e,n,t=!1)=>{let o;if(g(n))if(n.__skip__=!0,_(e)){let r=new Proxy(()=>{},{apply:(a,s,[i])=>i?{[I]:i}:e,get:(a,s)=>e[s]});o=n(r)}else o=n(e);else o=n;if(_(o)&&_(e)){let r=o[I];return ue(e,r||o,t||!!r),e}return o},ue=(e,n,t)=>{let o={};Object.entries(n).forEach(([r,a])=>{let s=e[r]?.__setter__;s?s(a,t):e[r]=a,o[r]=!0}),t||Object.keys(e).forEach(r=>{if(r!==K&&!o[r]&&!(e[r]?.__skip__&&!e[r]?.__getter__)){let s=e[r]?.__setter__;s?s(v):e[r]=void 0}})};function m(e){let n=this;if(g(e))return e.__skip__=!0,[e,()=>{}];let t=e,o=W(),r=[],a=u=>{if(!u||u===n||u.name===K||u.__skip__||u.__states__?.[o])return;let d=u;d.__states__??={},d.__states__[o]=!0,r.push(d)},s=u=>({apply:function(){if(a(u),_(t)){let f=M(t)?[]:{};return Object.keys(t).forEach(l=>{f[l]=le(t[l])}),f}return t},get:function(f,l){if(l==="bind")return E=>new Proxy(()=>{},s(E));if(l==="__getter__")return()=>t;if(l==="__setter__")return p;if(!h(t)){if(l==="__detach__")return()=>{t=void 0,r.length=0};if(Object.prototype.hasOwnProperty.call(t,l)){a(u);let[E]=m.bind(n)(t[l]);t[l]=E}return t[l]}}}),i=new Proxy(()=>{},s(null)),p=(u,d=!1)=>{let f=u===v;f&&_(t)&&Object.entries(t).forEach(([l,E])=>{Object.prototype.hasOwnProperty.call(t,l)||E.__setter__?.(v)}),t=f?void 0:ce(t,u,d),r.forEach(l=>(l.__handler__??l)()),f&&(r.length=0)};return[i,p]}var me=()=>{window.addEventListener("popstate",()=>{w(window.location)}),document.addEventListener("click",t=>{let o=t.target.closest("a");if(o&&o.tagName==="A"){if(o.origin!==window.location.origin||o.hash)return;t.preventDefault(),history.pushState({},"",o.href)}});let e=history.pushState,n=history.replaceState;history.pushState=(...t)=>{e.apply(history,t),w(t[2])},history.replaceState=(...t)=>{n.apply(history,t),w(t[2])}},F,z={},N=[],b=e=>void N.push(e),R=e=>{Object.entries(e).forEach(([n,t])=>{z[J(n)]=t}),F=void 0,console.log("* Routes registered"),w(window.location)},w=(e,n)=>{let t=J(e);if(F===t)return;F=t,console.log(`* Navigating to: ${t}`);let o={},r=()=>{};Object.entries(z).forEach(([a,s])=>{let p=new RegExp("^"+a.replace(/:[^/]+/g,u=>`(?<${u.slice(1)}>[^/]+)`)+"$").exec(t);p&&(o=p.groups??{},r=s)}),T.__detach__(),de(o),[n??N].flat().forEach(a=>{a(t,r)})},J=e=>{let n=e.toString();return(n.match(/^\//)?n:new URL(n).pathname).replace(/\/+$/,"")||"/"},[T,de]=m({});me();var pe={...k,...j,...G,...C},y=pe;var Y=(e,n="/")=>e.reduce((t,{index:o,path:r,component:a,redirect:s,children:i})=>(r=`${n}${o?"":`/${r}`}`.replace(/\/+/g,"/"),a?Object.assign(Object.assign({},t),{[r]:a}):s?Object.assign(Object.assign({},t),{[r]:()=>window.location.href=s}):Object.assign(Object.assign({},t),Y(i??[],r))),{}),Me=y.c((e,n)=>({children:t})=>{let[o,r]=n(),[a,s]=n();return R(Y(t)),b((i,p)=>{r(i),s(p())}),console.log("Rendering <BrowserRouter/>"),e.createElement(e.Fragment,null,e.createElement("h1",null,"Hi, my name is BrowserRouter! :) "),e.createElement("p",null,"Route: ",e.e(i=>i(),[o])),e.createElement("div",null,e.e(i=>i(),[a])))},[m]);var fe=y.c((e,n)=>()=>{let[t,o]=n(),[r,a]=n();return b((s,i)=>{o(s),a(i())}),console.log("Rendering <DirectoryRouter/>"),e.createElement(e.Fragment,null,e.createElement("h1",null,"Hi, my name is DirectoryRouter! :) "),e.createElement("p",null,"Route: ",e.e(s=>s(),[t])),e.createElement("div",null,e.e(s=>s(),[r])))},[m]),L=fe;var c=y;var ge=c.c(e=>()=>(console.log("Rendering <App/> using <DirectoryRouter/>"),e.createElement(e.Fragment,null,e.createElement("a",{href:"/dust",style:"padding-right: 15px"},"Home"),e.createElement("a",{href:"/dust/docs/routing",style:"padding-right: 15px"},"Routing Docs"),e.createElement("a",{href:"/dust/blog/3",style:"padding-right: 15px"},"Blog Article 3"),e.createElement("a",{href:"/dust/blog/4",style:"padding-right: 15px"},"Blog Article 4"),e.createElement("a",{href:"/dust/about-me",style:"padding-right: 15px"},"About Me"),e.createElement(L,{pages:"./pages"}))),[]),q=ge;var he=P(document.getElementById("root"));he.render(c.createElement(q,null));var _e=c.c(e=>()=>(console.log("Rendering <AboutMe/>"),e.createElement("h1",null,"And I am Paul ;)")),[]),Q=_e;var ye=c.c(e=>({counter:n,setCounter:t,show:o,setShow:r})=>(console.log("Rendering <Counter/>"),e.createElement(e.Fragment,null,"Counter: ",e.createElement("strong",null,e.e(a=>a(),[n])),e.createElement("p",null,e.createElement("button",{onClick:()=>t(a=>a+1)},"Up"),e.createElement("button",{onClick:()=>t(a=>a-1)},"Down")),e.createElement("p",null,e.createElement("button",{onClick:()=>r(a=>!a)},"Toggle")),e.createElement("p",null,e.e(a=>a()&&e.createElement("p",null,e.createElement("strong",null,"Hello!")),[o])))),[]),V=ye;var Ee=c.c((e,n)=>()=>{let[t,o]=n(""),r=({target:a})=>o(a.value);return console.log("Rendering <SayHello/>"),e.createElement("div",null,e.createElement("p",null,"What is your name?"," ",e.createElement("input",{type:"text",onKeyDown:r,onKeyUp:r})),e.createElement("p",{style:"margin-top: 20px; padding: 8px 16px; font-family: Georgia; font-size: 17px; font-style: italic; border-left: 4px solid black"},"Hello, ",e.e(a=>a(),[t]),"!",e.createElement("br",null),"How are you today?"))},[m]),X=Ee;var be=c.c((e,n)=>()=>{let[t,o]=n(0),[r,a]=n(!1);return console.log("Rendering <Home/>"),e.createElement(e.Fragment,null,e.createElement("h1",null,"Welcome to Dust!"),e.createElement("p",null,e.createElement("i",null,"A minimalistic reactive Javascript library for building dynamic state component-based interfaces.")),e.createElement("p",null,e.createElement("i",null,e.createElement("strong",null,"(please note the browser console: components are NOT RERENDERED on change"),")")),e.createElement("p",null,"See more at: ",e.createElement("a",{href:"https://github.com/archan937/dust"},"Github")),e.createElement("h3",{style:"margin-top: 60px"},"Say Hello example:"),e.createElement(X,null),e.createElement("h3",{style:"margin-top: 60px"},"Classic Counter example:"),e.createElement(V,{counter:t,setCounter:o,show:r,setShow:a}))},[m]),Z=be;var Re=c.c(e=>()=>{let{id:n}=T();return console.log(`Rendering <BlogArticle/> with ID: ${n} `),e.createElement(e.Fragment,null,e.createElement("h1",null,"Welcome to our Dust Blog!"),e.createElement("p",null,"[ blog article with ID ",n," ]"))},[]),D=Re;var Se=c.c(e=>()=>(console.log("Rendering <Routing/>"),e.createElement(e.Fragment,null,e.createElement("h1",null,"You can use two types of routing"),e.createElement("ul",null,e.createElement("li",null,"DirectoryRouter - Routing similar to Next.js"),e.createElement("li",null,"BrowserRouter - Routing similar to ReactRouterDOM")))),[]),ee=Se;R({"/dust/about-me":Q,"/dust/":Z,"/dust/blog/:id":D,"/dust/docs/routing":ee});})();
