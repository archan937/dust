(()=>{var ie=Object.create;var H=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var ce=Object.getOwnPropertyNames;var me=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var pe=(e,t)=>()=>(e&&(t=e(e=0)),t);var fe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=(e,t)=>{for(var n in t)H(e,n,{get:t[n],enumerable:!0})},x=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ce(t))!de.call(e,s)&&s!==n&&H(e,s,{get:()=>t[s],enumerable:!(r=ue(t,s))||r.enumerable});return e},d=(e,t,n)=>(x(e,t,"default"),n&&x(n,t,"default")),v=(e,t,n)=>(n=e!=null?ie(me(e)):{},x(t||!e||!e.__esModule?H(n,"default",{value:e,enumerable:!0}):n,e)),ge=e=>x(H({},"__esModule",{value:!0}),e);var U={};h(U,{isArray:()=>he,isDomNode:()=>R,isFunction:()=>E,isNull:()=>w,isObject:()=>Ee,isUndefined:()=>y,randomHash:()=>_e});var N,_e,he,E,w,y,R,Ee,k=pe(()=>{N=["ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz","0123456789"].join(""),_e=()=>{let e="";for(let t=0;t<6;t++)e+=N.charAt(Math.floor(Math.random()*N.length));return e},he=e=>Array.isArray(e),E=e=>typeof e=="function",w=e=>e===null,y=e=>typeof e>"u",R=e=>y(e)?!1:e instanceof Element||typeof DocumentFragment<"u"&&e instanceof DocumentFragment,Ee=e=>!!e&&Object.prototype.toString.call(e)==="[object Object]"});var A=fe(q=>{var{isArray:ye,isFunction:I,isObject:b,isUndefined:Re,randomHash:be}=(k(),ge(U)),$="__mergeValue__",C="__unsetValue__",K="__skip__",Se=e=>{let t=e.__getter__;return t?t():e},Te=(e,t,n=!1)=>{let r;if(I(t))if(t.__skip__=!0,b(e)){let s=new Proxy(()=>{},{apply:(l,i,[p])=>p?{[$]:p}:e,get:(l,i)=>e[i]});r=t(s)}else r=t(e);else r=t;if(b(r)&&b(e)){let s=r[$];return xe(e,s||r,n||!!s),e}return r},xe=(e,t,n)=>{let r={};Object.entries(t).forEach(([s,l])=>{let i=e[s]?.__setter__;i?i(l,n):e[s]=l,r[s]=!0}),n||Object.keys(e).forEach(s=>{if(s!==K&&!r[s]&&!(e[s]?.__skip__&&!e[s]?.__getter__)){let i=e[s]?.__setter__;i?i(C):e[s]=void 0}})},z=(e,t)=>{if(I(e))return e.__skip__=!0,[e,()=>{}];let n=e,r=be(),s=[],l=c=>{if(!c||c===t||c.name===K||c.__skip__||c.__states__?.[r])return;let m=c;m.__states__??={},m.__states__[r]=!0,s.push(m)},i=new Proxy(()=>{},{apply:function(){if(l(arguments.callee.caller),b(n)){let m=ye(n)?[]:{};return Object.keys(n).forEach(u=>{m[u]=Se(n[u])}),m}return n},get:function(m,u){if(u==="__getter__")return()=>n;if(u==="__setter__")return p;if(!Re(n)){if(u==="__detach__")return()=>{n=void 0,s.length=0};if(Object.prototype.hasOwnProperty.call(n,u)){l(arguments.callee.caller);let[f]=z(n[u],t);n[u]=f}return n[u]}}}),p=(c,m=!1)=>{let u=c===C;u&&b(n)&&Object.entries(n).forEach(([f,le])=>{Object.prototype.hasOwnProperty.call(n,f)||le.__setter__?.(C)}),n=u?void 0:Te(n,c,m),s.forEach(f=>(f.__handler__??f)()),u&&(s.length=0)};return[i,p]},He=function(e,t){return z(e,t??arguments.callee.caller)};q.useState=He});var a={};h(a,{BrowserRouter:()=>L,DirectoryRouter:()=>T,Fragment:()=>Z,NoElement:()=>j,Route:()=>G,createElement:()=>W,createRoot:()=>D,default:()=>o,matchRoute:()=>g,registerRoutes:()=>_,useParams:()=>S});var M={};h(M,{BrowserRouter:()=>L,DirectoryRouter:()=>T,Route:()=>G});var F={};h(F,{matchRoute:()=>g,registerRoutes:()=>_,useParams:()=>S});var J=v(A()),we=()=>{window.addEventListener("popstate",()=>{P(window.location)}),document.addEventListener("click",n=>{let r=n.target.closest("a");if(r&&r.tagName==="A"){if(r.origin!==window.location.origin||r.hash)return;n.preventDefault(),history.pushState({},"",r.href)}});let e=history.pushState,t=history.replaceState;history.pushState=(...n)=>{e.apply(history,n),P(n[2])},history.replaceState=(...n)=>{t.apply(history,n),P(n[2])}},O,V={},Y=[],g=e=>void Y.push(e),_=e=>{Object.entries(e).forEach(([t,n])=>{V[Q(t)]=n}),O=void 0,console.log("* Routes registered"),P(window.location)},P=(e,t)=>{let n=Q(e);if(O===n)return;O=n,console.log(`* Navigating to: ${n}`);let r={},s=()=>{};Object.entries(V).forEach(([l,i])=>{let c=new RegExp("^"+l.replace(/:[^/]+/g,m=>`(?<${m.slice(1)}>[^/]+)`)+"$").exec(n);c&&(r=c.groups??{},s=i)}),S.__detach__(),Ae(r),[t??Y].flat().forEach(l=>{l(n,s)})},Q=e=>{let t=e.toString();return(t.match(/^\//)?t:new URL(t).pathname).replace(/\/+$/,"")||"/"},[S,Ae]=(0,J.useState)({});we();var G=j,X=(e,t="/")=>e.reduce((n,{index:r,path:s,component:l,redirect:i,children:p})=>(s=`${t}${r?"":`/${s}`}`.replace(/\/+/g,"/"),l?Object.assign(Object.assign({},n),{[s]:l}):i?Object.assign(Object.assign({},n),{[s]:()=>window.location.href=i}):Object.assign(Object.assign({},n),X(p??[],s))),{});function Pe({children:e}){let[t,n]=(0,a.useState)(),[r,s]=(0,a.useState)();return _(X(e)),g((l,i)=>{n(l),s(i())}),console.log("Rendering <BrowserRouter/>"),o.createElement(o.Fragment,null,o.createElement("h1",null,"Hi, my name is BrowserRouter! :) "),o.createElement("p",null,"Route: ",()=>t()),o.createElement("div",null,()=>r()))}var L=Pe;function je(){let[e,t]=(0,a.useState)(),[n,r]=(0,a.useState)();return g((s,l)=>{t(s),r(l())}),console.log("Rendering <DirectoryRouter/>"),o.createElement(o.Fragment,null,o.createElement("h1",null,"Hi, my name is DirectoryRouter! :) "),o.createElement("p",null,"Route: ",()=>e()),o.createElement("div",null,()=>n()))}var T=je;var B={};h(B,{Fragment:()=>Z,NoElement:()=>j,createElement:()=>W,createRoot:()=>D});k();var De=(e,t)=>{Object.entries(t||{}).forEach(([n,r])=>{let s=n.toLowerCase(),l=s.match(/on([a-z]+)/)?.[1];l&&E(r)?e.addEventListener(l,r,!1):e.setAttribute(s,r)})},ve=(e,t)=>{if(w(t)||y(t))return;let n;t&&(t instanceof Element||t.constructor.name==="DocumentFragment")?n=t:(n=document.createTextNode(""),E(t)?(t.__handler__=()=>{let r=t();R(r)?(n=r,e.replaceChildren(n)):R(n)&&(n=document.createTextNode(""),e.replaceChildren(n)),n.nodeValue=w(r)||y(r)||r===!1?"":String(r)},t.__handler__?.()):n.nodeValue=String(t)),e.appendChild(n)},W=(e,t,...n)=>{if(R(e))return e;let r=n.flat();if(E(e))return e?.name==="NoElement"?{...t,children:r}:e({...t,children:r});let s=!e,l=s?document.createDocumentFragment():document.createElement(e);return s||De(l,t),r.forEach(i=>ve(l,i)),l},D=e=>({render:t=>{e.innerHTML="",e.appendChild(W(t,{}))}}),Z="";function j(e){return e}d(a,v(A()));var ke=v(A()),Ce={...M,...B,...F,...ke},o=Ce;function Oe(){return console.log("Rendering <App/> using <DirectoryRouter/>"),o.createElement(o.Fragment,null,o.createElement("a",{href:"/dust",style:"padding-right: 15px"},"Home"),o.createElement("a",{href:"/dust/docs/routing",style:"padding-right: 15px"},"Routing Docs"),o.createElement("a",{href:"/dust/blog/3",style:"padding-right: 15px"},"Blog Article 3"),o.createElement("a",{href:"/dust/blog/4",style:"padding-right: 15px"},"Blog Article 4"),o.createElement("a",{href:"/dust/about-me",style:"padding-right: 15px"},"About Me"),o.createElement(T,{pages:"./pages"}))}var ee=Oe;var Fe=D(document.getElementById("root"));Fe.render(o.createElement(ee,null));function Ge(){return console.log("Rendering <AboutMe/>"),o.createElement("h1",null,"And I am Paul ;)")}var te=Ge;function Le({counter:e,setCounter:t,show:n,setShow:r}){return console.log("Rendering <Counter/>"),o.createElement(o.Fragment,null,"Counter: ",o.createElement("strong",null,()=>e()),o.createElement("p",null,o.createElement("button",{onClick:()=>t(s=>s+1)},"Up"),o.createElement("button",{onClick:()=>t(s=>s-1)},"Down")),o.createElement("p",null,o.createElement("button",{onClick:()=>r(s=>!s)},"Toggle")),o.createElement("p",null,()=>n()&&o.createElement("p",null,o.createElement("strong",null,"Hello!"))))}var ne=Le;function Me(){let[e,t]=(0,a.useState)(""),n=({target:r})=>t(r.value);return console.log("Rendering <SayHello/>"),o.createElement("div",null,o.createElement("p",null,"What is your name?",()=>" ",o.createElement("input",{type:"text",onKeyDown:n,onKeyUp:n})),o.createElement("p",{style:"margin-top: 20px; padding: 8px 16px; font-family: Georgia; font-size: 17px; font-style: italic; border-left: 4px solid black"},"Hello, ",()=>e(),"!",o.createElement("br",null),"How are you today?"))}var oe=Me;function We(){let[e,t]=(0,a.useState)(0),[n,r]=(0,a.useState)(!1);return console.log("Rendering <Home/>"),o.createElement(o.Fragment,null,o.createElement("h1",null,"Welcome to Dust!"),o.createElement("p",null,o.createElement("i",null,"A minimalistic reactive Javascript library for building dynamic state component-based interfaces.")),o.createElement("p",null,o.createElement("i",null,o.createElement("strong",null,"(please note the browser console: components are NOT RERENDERED on change"),")")),o.createElement("p",null,"See more at: ",o.createElement("a",{href:"https://github.com/archan937/dust"},"Github")),o.createElement("h3",{style:"margin-top: 60px"},"Say Hello example:"),o.createElement(oe,null),o.createElement("h3",{style:"margin-top: 60px"},"Classic Counter example:"),o.createElement(ne,{counter:e,setCounter:t,show:n,setShow:r}))}var re=We;function Be(){let{id:e}=S();return console.log(`Rendering <BlogArticle/> with ID: ${e} `),o.createElement(o.Fragment,null,o.createElement("h1",null,"Welcome to our Dust Blog!"),o.createElement("p",null,"[ blog article with ID ",()=>e," ]"))}var se=Be;function Ne(){return console.log("Rendering <Routing/>"),o.createElement(o.Fragment,null,o.createElement("h1",null,"You can use two types of routing"),o.createElement("ul",null,o.createElement("li",null,"DirectoryRouter - Routing similar to Next.js"),o.createElement("li",null,"BrowserRouter - Routing similar to ReactRouterDOM")))}var ae=Ne;var Ue={"/dust/about-me":te,"/dust/":re,"/dust/blog/:id":se,"/dust/docs/routing":ae};_(Ue);})();
